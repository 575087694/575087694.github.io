<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <base href="http://575087694.github.io/">
  <title>1、导论 - JavaScript入门</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="My short description">
  <meta name="author" content="SmallLiu">
  <meta itemprop="name" content="1、导论 - JavaScript入门">
  <meta itemprop="description" content="My short description">
  <meta itemprop="image" content="http://575087694.github.io/img/author.jpg">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@SmallLiu" />
  <meta name="twitter:title" content="1、导论 - JavaScript入门" />
  <meta name="twitter:description" content="My short description" />
  
  <link rel="shortcut icon" href="img/favicon.ico"/>
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="apple-touch-icon.png" />
  <link rel="stylesheet" href="highlight/styles/github.css">
  <script src="highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="font/hack/css/hack.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
    <div>
  
  <div id="imglogo">
    <a href="http://575087694.github.io/"><img src="http://575087694.github.io/img/logo.svg" alt="JavaScript入门" title="JavaScript入门"/></a>
  </div>
  
  <div id="textlogo">
    <h1 class="site-name"><a href="http://575087694.github.io/" title="JavaScript入门">JavaScript入门</a></h1>
    <h2 class="blog-motto">subtitle</h2>
  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <nav class="animated">
    <ul>
      
      <li><a href="/">首页</a></li>
      
      <li><a href="/about/">关于</a></li>
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder="搜索">
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="http://575087694.github.io/post/index1/" title="1、导论" itemprop="url">1、导论</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://575087694.github.io/" title="SmallLiu">SmallLiu</a>
    
  </p>
  <p class="article-time">
    <time datetime="2014-01-31 05:04:40 &#43;0000 UTC" itemprop="datePublished">2014年01月31日</time>
  </p>
</header>

	<div class="article-content">
    
    

<h2 id="内容简介:5fa5b894c99827b58a1ff5820173afba">内容简介</h2>

<p>本教程全面介绍JavaScript核心语法（ECMAScript 5.1版本），从最简单的开始讲起，循序渐进、由浅入深，力求清晰易懂。所有章节都带有大量的代码实例，便于理解和模仿，可以用到实际项目中，即学即用。</p>

<p>更新的ES6 / ES7语法请参考我写的<a href="http://es6.ruanyifeng.com/">《ECMAScript 6入门》</a>。</p>

<h2 id="javascript是什么:5fa5b894c99827b58a1ff5820173afba">JavaScript是什么？</h2>

<p>JavaScript是一种轻量级的脚本语言，可以部署在多种环境，最常见的部署环境就是浏览器。所谓“脚本语言”，指的是它不具备开发操作系统的能力，而是只用来编写控制其他大型应用程序的“脚本”。</p>

<p>本质上，JavaScript语言是一种“对象模型”。各种部署环境通过这个模型，描述自己的功能和操作接口，从而通过JavaScript控制这些功能。</p>

<p>JavaScript的核心部分相当精简，只包括两个部分：基本的语法构造（比如操作符、控制结构、语句）和标准库（就是一系列具有各种功能的对象比如<code>Array</code>、<code>Date</code>、<code>Math</code>等）。</p>

<p>除此之外，各种部署环境提供额外的API（即只能在某个环境使用的接口），以便JavaScript调用。如果部署环境是浏览器，提供的额外API可以分成三大类：浏览器控制类、DOM类、Web类。浏览器控制类的接口用来操作浏览器，DOM类的接口用来操作网页的各种元素，Web类的接口用来实现互联网的各种功能。如果部署环境是服务器，则会提供各种操作系统的API，比如文件操作API、网络通信API等等，现在最流行的JavaScript服务器环境是Node。</p>

<p>本教程主要介绍JavaScript语言和网页开发的基本知识，可以分成以下五大部分。</p>

<ul>
<li>基本语法</li>
<li>标准库</li>
<li>浏览器API</li>
<li>DOM</li>
<li>Web API</li>
</ul>

<p>服务器环境的编程，将有单独的Node教程。</p>

<h2 id="为什么学习javascript:5fa5b894c99827b58a1ff5820173afba">为什么学习JavaScript？</h2>

<p>JavaScript语言有一些显著特点，使得它非常值得学习。它既适合当作学习编程的入门语言，也适合当作日常开发的工作语言。它是目前最有希望、前途最光明的计算机语言之一。</p>

<h3 id="操控浏览器的能力:5fa5b894c99827b58a1ff5820173afba">操控浏览器的能力</h3>

<p>JavaScript的发明目的，就是作为浏览器的内置脚本语言，为网页开发者提供操控浏览器的能力。它是目前唯一一种通用的浏览器脚本语言，所有浏览器都支持。它可以让网页呈现各种特殊效果，为用户提供良好的互动体验。</p>

<p>目前，全世界几乎所有网页都使用JavaScript。如果不用，网站的易用性和使用效率将大打折扣，无法成为操作便利、对用户友好的网站。</p>

<p>对于一个互联网开发者来说，如果你想提供漂亮的网页、令用户满意的上网体验、各种基于浏览器的便捷功能、前后端之间紧密高效的联系，JavaScript是必不可少的工具。</p>

<h3 id="广泛的使用领域:5fa5b894c99827b58a1ff5820173afba">广泛的使用领域</h3>

<p>近年来，JavaScript的使用范围，慢慢超越了浏览器，正在向通用的系统语言发展。</p>

<p><strong>（1）浏览器的平台化</strong></p>

<p>随着HTML 5的出现，浏览器本身的功能越来越强，不再仅仅能浏览网页，而是越来越像一个平台，JavaScript因此得以调用许多系统功能，比如操作本地文件、操作图片、调用摄像头和麦克风等等。这使得JavaScript可以完成许多以前无法想象的事情。</p>

<p><strong>（2）Node.js</strong></p>

<p>Node.js项目使得JavaScript可以用于开发服务器端的大型项目，网站的前后端都用JavaScript开发已经成为了现实。有些嵌入式平台（Raspberry Pi）能够安装Node.js，于是JavaScript就能为这些平台开发应用程序。</p>

<p><strong>（3）数据库操作</strong></p>

<p>JavaScript甚至也可以用来操作数据库。NoSQL数据库这个概念，本身就是在JSON（JavaScript Object Notation，JavaScript对象表示法）格式的基础上诞生的，大部分NoSQL数据库允许JavaScript直接操作。基于SQL语言的开源数据库PostgreSQL支持JavaScript作为操作语言，可以部分取代SQL查询语言。</p>

<p><strong>（4）跨移动平台</strong></p>

<p>JavaScript也正在成为手机应用的开发语言。一般来说，安卓平台使用Java语言开发，iOS平台使用Objective-C或Swift语言开发。许多人正在努力，让JavaScript成为各个平台的通用开发语言。</p>

<p>PhoneGap项目就是将JavaScript和HTML5打包在一个容器之中，使得它能同时在iOS和安卓上运行。Facebook的React Native项目则是将JavaScript写的组件，编译成原生组件，从而使它们具备优秀的性能。</p>

<p>Mozilla基金会的手机操作系统Firefox OS，更是直接将JavaScript作为操作系统的平台语言。</p>

<p><strong>（5）内嵌脚本语言</strong></p>

<p>越来越多的应用程序，将JavaScript作为内嵌的脚本语言，比如Adobe公司的著名PDF阅读器Acrobat、Linux桌面环境GNOME 3。</p>

<p><strong>（6）跨平台的桌面应用程序</strong></p>

<p>Chromium OS、Windows 8等操作系统直接支持JavaScript编写应用程序。Mozilla的Open Web Apps项目、Google的<a href="http://developer.chrome.com/apps/about_apps">Chrome App项目</a>、Github的<a href="http://electron.atom.io/">Electron项目</a>、以及<a href="http://www.tidesdk.org/">TideSDK项目</a>，都可以用来编写运行于Windows、Mac OS和Android等多个桌面平台的程序，不依赖浏览器。</p>

<p><strong>（7）小结</strong></p>

<p>可以预期，JavaScript最终将能让你只用一种语言，就开发出适应不同平台（包括桌面端、服务器端、手机端）的程序。根据2013年9月的<a href="http://adambard.com/blog/top-github-languages-for-2013-so-far/">统计</a>，JavaScript是本年度代码托管网站Github上使用量排名第一的语言。</p>

<p>著名程序员Jeff Atwood甚至提出了一条<a href="http://www.codinghorror.com/blog/2007/07/the-principle-of-least-power.html">“Atwood定律”</a>：</p>

<blockquote>
<p>“所有可以用JavaScript编写的程序，最终都会出现JavaScript的版本。”(Any application that can be written in JavaScript will eventually be written in JavaScript.)</p>
</blockquote>

<h3 id="易学性:5fa5b894c99827b58a1ff5820173afba">易学性</h3>

<p>相比学习其他语言，学习JavaScript有一些有利条件。</p>

<p><strong>（1）学习环境无处不在</strong></p>

<p>只要有浏览器，就能运行JavaScript程序；只要有文本编辑器，就能编写JavaScript程序。这意味着，几乎所有电脑都原生提供JavaScript学习环境，不用另行安装复杂的IDE（集成开发环境）和编译器。</p>

<p><strong>（2）简单性</strong></p>

<p>相比其他脚本语言（比如Python或Ruby），JavaScript的语法相对简单一些，本身的语法特性并不是特别多。而且，那些语法中的复杂部分，也不是必需要学会。你完全可以只用简单命令，完成大部分的操作。</p>

<p><strong>（3）与主流语言的相似性</strong></p>

<p>JavaScript的语法很类似C/C++和Java，如果学过这些语言（事实上大多数学校都教），JavaScript的入门会非常容易。</p>

<p>必须说明的是，虽然核心语法不难，但是JavaScript的复杂性体现在另外两个方面。</p>

<p>首先，它涉及大量的外部API。JavaScript要发挥作用，必须与其他组件配合，这些外部组件五花八门，数量极其庞大，几乎涉及网络应用的各个方面，掌握它们绝非易事。</p>

<p>其次，JavaScript语言有一些设计缺陷。某些地方相当不合理，另一些地方则会出现怪异的运行结果。学习JavaScript，很大一部分时间是用来搞清楚哪些地方有陷阱。Douglas Crockford写过一本有名的书，名字就叫<a href="http://javascript.crockford.com/">《JavaScript: The Good Parts》</a>，言下之意就是这门语言不好的地方很多，必须写一本书才能讲清楚。另外一些程序员则感到，为了更合理地编写JavaScript程序，就不能用JavaScript来写，而必须发明新的语言，比如CoffeeScript、TypeScript、Dart这些新语言的发明目的，多多少少都有这个因素。</p>

<p>尽管如此，目前看来，JavaScript的地位还是无法动摇。加之，语言标准的快速进化，使得JavaScript功能日益增强，而语法缺陷和怪异之处得到了弥补。所以，JavaScript还是值得学习，况且它的入门真的不难。</p>

<h3 id="强大的性能:5fa5b894c99827b58a1ff5820173afba">强大的性能</h3>

<p>JavaScript的性能优势体现在以下方面。</p>

<p><strong>（1）灵活的语法，表达力强。</strong></p>

<p>JavaScript既支持类似C语言清晰的过程式编程，也支持灵活的函数式编程。可以用来写并发处理（concurrent）。这些语法特性已经被证明非常强大，可以用于许多场合，尤其适用非同步编程。</p>

<p>JavaScript的所有值都是对象，这为程序员提供了灵活性和便利性。因为你可以很方便地、按照需要随时创造数据结构，不用进行麻烦的预定义。</p>

<p>JavaScript的标准还在快速进化中，并不断合理化，并添加更适用的语法特性。</p>

<p><strong>（2）支持编译运行。</strong></p>

<p>JavaScript语言本身，虽然是一种解释型语言，但是在现代浏览器中，JavaScript都是编译后运行。程序会被高度优化，运行效率接近二进制程序。而且，JavaScript引擎正在快速发展，性能将越来越好。</p>

<p><strong>（3）事件驱动和非阻塞式设计。</strong></p>

<p>JavaScript程序可以采用事件驱动（event-driven）和非阻塞式（non-blocking）设计，在服务器端适合高并发环境，普通的硬件就可以承受很大的访问量。</p>

<h3 id="开放性:5fa5b894c99827b58a1ff5820173afba">开放性</h3>

<p>JavaScript是一种开放的语言。它的标准是国际标准，写得非常详尽明确；主要的设计和实现都是开放的，而且质量很高；不属于任何公司或个人，不存在版权和专利的问题。</p>

<p>行业内的主要公司都支持它，单单是解释器就有好几个品种，兼容性很好，不做调整或只做很小的调整，它编写的程序就能在所有浏览器上运行。</p>

<h3 id="社区支持和就业机会:5fa5b894c99827b58a1ff5820173afba">社区支持和就业机会</h3>

<p>全世界程序员都在使用JavaScript，它有着极大的社区、广泛的文献和图书、丰富的代码资源。绝大部分你需要用到的功能，都有多个开源函数库可供选用。</p>

<p>作为项目负责人，你不难招聘到数量众多的JavaScript程序员；作为开发者，你也不难找到一份JavaScript的工作。</p>

<h2 id="实验环境:5fa5b894c99827b58a1ff5820173afba">实验环境</h2>

<p>JavaScript的上手非常方便，只要电脑安装了浏览器，就可以用来实验了。只要打开Chrome浏览器的“开发者工具”（Developer Tools），就可以在它的“控制台”（console）运行JavaScript代码。</p>

<p>进入“控制台”，有两种方法。</p>

<ul>
<li><p>快捷键。在Chrome浏览器中，直接按<code>Option + Command + J</code>（Mac）或者<code>Ctrl + Shift + J</code>（Windows/Linux）。</p></li>

<li><p>菜单。从“工具”（Tools）菜单中打开“开发者工具”，然后点击Console选项卡。“开发者工具”的快捷键是F12，或者<code>Option + Command + I</code>（Mac）以及<code>Ctrl + Shift + I</code>（Windows/Linux）。</p></li>
</ul>

<p>进入控制台以后，就可以在提示符后输入代码，然后按<code>Enter</code>键，代码就会执行。如果按<code>Shift + Enter</code>键，就是代码换行，不会触发执行。建议阅读本教程时，将代码复制到控制台进行实验。</p>

<p>将下面的程序复制到“控制台”，按下回车后，就可以看到运行结果。</p>

<pre><code class="language-javascript">function greetMe(yourName) {
  console.log('Hello ' + yourName);
}

greetMe('World')
// Hello World
</code></pre>

<h2 id="自序:5fa5b894c99827b58a1ff5820173afba">自序</h2>

<p>我想写这本教程，主要原因是自己需要。</p>

<p>编程时，往往需要查阅资料，确定准确用法。理想的JavaScript参考书，应该简明易懂，一目了然，告诉我有哪些注意点，提供代码范例。涉及重要概念，还应该适当讲解。可是大多数时候，现实都不是如此。找到的资料冗长难懂，抓不住重点，有时还很陈旧，跟不上语言标准和浏览器的快速发展，且大多数是英文资料。</p>

<p>学习过程中，我做了很多JavaScript笔记。多年累积，数量相当庞大。遇到问题，我首先查自己的笔记，如果笔记里没有，再到网上查，最后回过头把笔记补全。终于有一天，我意识到可以把笔记做成书，这就是这本教程的由来。</p>

<p>我是为自己写这本书的，我想用自己的语言叙述JavaScript，按照自己的方式编排章节，便于将来的查阅。当然，另一个写作动力是觉得这些内容对他人有用，毕竟我花了那么多时间，整理成书可以节省其他人的时间。</p>

<p>正因为脱胎于笔记，这本教程跟其他JavaScript书籍有所不同。</p>

<ul>
<li><p>它有点像教程，包含重要概念的简洁讲解，努力把复杂的问题讲得简单，希望一两分钟内就能抓住重点。</p></li>

<li><p>它又有点像参考手册，罗列主要用法和各种API接口，并给出可以立即运行的代码。所有章节按主题编排，不完全按照由浅入深的学习顺序编排，这是为了方便查阅。</p></li>

<li><p>它主要关注编程实战遇到的问题，从语言本身到浏览器接口都涉及，容易出错的一些细节尤其讲得多。</p></li>
</ul>

<h2 id="许可证:5fa5b894c99827b58a1ff5820173afba">许可证</h2>

<p>本教程采用创意共享<a href="http://javascript.ruanyifeng.com/introduction/license.html">“署名—非商业性使用”</a>许可证（Creative Commons Attribution-NonCommercial license）。所有内容不仅可以免费阅读，还可以自由使用（比如转载），只需遵守两个条件：</p>

<ul>
<li><p><strong>署名</strong>：必须保留原作者的署名。</p></li>

<li><p><strong>非商业性使用</strong>：除非得到正式许可，否则不得用于商业目的。</p></li>
</ul>

<p>事实上，你还可以得到这本教程的源码。它就放在<a href="https://github.com/ruanyf/jstutorial">Github</a>上，欢迎克隆和提交Pull Request。</p>

<h2 id="参考书目:5fa5b894c99827b58a1ff5820173afba">参考书目</h2>

<p>写作过程中，我参考了以下书籍（排名不分先后）。</p>

<ul>
<li>Nicholas C. Zakas, <a href="http://www.amazon.com/Professional-JavaScript-Developers-Nicholas-Zakas/dp/1118026691">Professional JavaScript for Web Developers</a>, 3 edition, Wrox, 2012</li>
<li>Axel Rauschmayer, <a href="http://oreilly.com/javascript/radarreports/past-present-future-javascript.html">The Past, Present, and Future of JavaScript</a>, O&rsquo;Reilly, 2012</li>
<li>Cody Lindley, <a href="http://www.javascriptenlightenment.com/">JavaScript Enlightenment</a>, O&rsquo;Reilly, 2012</li>
<li>Cody Lindley, <a href="http://domenlightenment.com/">DOM Enlightenment</a>, O&rsquo;Reilly, 2013</li>
<li>Rebecca Murphey, <a href="http://github.com/rmurphey/jqfundamentals">jQuery Fundamentals</a>, 2011</li>
<li>Aaron Frost, <a href="http://chimera.labs.oreilly.com/books/1234000001623">JS.next: A Manager’s Guide</a>, O&rsquo;Reilly, 2013</li>

<li><p>John Resig, Bear Bibeault, <a href="http://www.manning.com/resig/">Secrets of the JavaScript Ninja</a>, Manning, 2012</p></li>

<li><p>Eric Elliott, <a href="http://chimera.labs.oreilly.com/books/1234000000262">Programming JavaScript Applications</a>, O&rsquo;Reilly, 2013</p></li>

<li><p>邱俊涛, <a href="http://icodeit.org/jsccp/">JavaScript核心概念及实践</a>，人民邮电出版社，2013</p></li>
</ul>

	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="/tags/development">Development</a>
  
  <a href="/tags/javascript">JavaScript</a>
  
</div>



<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="/categories/development">Development</a>
  
  <a class="article-category-link" href="/categories/javascript">JavaScript</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="http://575087694.github.io/post/index1/" data-title="1、导论" data-tsina="1816308191" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  


<section class="comment">
<div id="disqus_thread"></div>
</section>
<script>


var disqus_config = function () {
this.page.url = "http://575087694.github.io/post/index1/";
this.page.identifier = "http://575087694.github.io/post/index1/";
};
(function() { 
var d = document, s = d.createElement('script');

s.src = '//SmallLiu.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


</div>

    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>
<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
  

<div class="categorieslist">
  <p class="asidetitle">分类</p>
  <ul>
    
    <li><a href="http://575087694.github.io/categories/development" title="development">development<sup>11</sup></a></li>
    
    <li><a href="http://575087694.github.io/categories/javascript" title="javascript">javascript<sup>11</sup></a></li>
    
  </ul>
</div>



  

<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
      
			<li><a href="http://575087694.github.io/tags/development" title="development">development<sup>11</sup></a></li>
      
			<li><a href="http://575087694.github.io/tags/javascript" title="javascript">javascript<sup>11</sup></a></li>
      
		</ul>
</div>



  
  <div class="archiveslist">
    <p class="asidetitle">归档</p>
    <ul class="archive-list">
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="http://575087694.github.io/post/#2014-01">2014年01月</a><span class="archive-list-count">11</span>
      </li>
      
    </ul>

  </div>


  

<div class="tagcloudlist">
  <p class="asidetitle">标签云</p>
  <div class="tagcloudlist clearfix">
    
    <a href="http://575087694.github.io/tags/development" style="font-size: 12px;">development</a>
    
    <a href="http://575087694.github.io/tags/javascript" style="font-size: 12px;">javascript</a>
    
  </div>
</div>



  

</aside>
</div>

  </div>
  <footer><div id="footer" >
  
  <div class="line">
    <span></span>
    <div style='background:no-repeat url("http://575087694.github.io/img/author.jpg") left top;-webkit-background-size:6.875em 6.875em;-moz-background-size:6.875em 6.875em;background-size:6.875em 6.875em;' class="author" ></div>
  </div>
  
  
  <section class="info">
    <p>Introduce1 <br/> Introduce2</p>
  </section>
  
  <div class="social-font clearfix">
    
    <a href="http://weibo.com/SmallLiu" target="_blank" title="weibo"></a>
    
    
    <a href="https://twitter.com/SmallLiu" target="_blank" title="twitter"></a>
    
    
    <a href="https://github.com/SmallLiu" target="_blank" title="github"></a>
    
    
    <a href="https://www.facebook.com/SmallLiu" target="_blank" title="facebook"></a>
    
    
    <a href="https://www.linkedin.com/SmallLiu" target="_blank" title="linkedin"></a>
    
  </div>
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a> © 2016
    
    <a href="http://575087694.github.io/" target="_blank" title="SmallLiu">SmallLiu</a>
    
  </p>
</div>
</footer>
  <script src="http://575087694.github.io/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:http:\/\/575087694.github.io\/} ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="http://575087694.github.io/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="http://575087694.github.io/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-10147768-2', 'auto');
  ga('send', 'pageview');
  $('#messagesbsb').remove();
</script>



</body>
</html>
