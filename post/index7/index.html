<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <base href="http://575087694.github.io/">
  <title>8、开发工具 - JavaScript入门</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="My short description">
  <meta name="author" content="SmallLiu">
  <meta itemprop="name" content="8、开发工具 - JavaScript入门">
  <meta itemprop="description" content="My short description">
  <meta itemprop="image" content="http://575087694.github.io/img/author.jpg">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@SmallLiu" />
  <meta name="twitter:title" content="8、开发工具 - JavaScript入门" />
  <meta name="twitter:description" content="My short description" />
  
  <link rel="shortcut icon" href="img/favicon.ico"/>
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="apple-touch-icon.png" />
  <link rel="stylesheet" href="highlight/styles/github.css">
  <script src="highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="font/hack/css/hack.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <header>
    <div>
  
  <div id="imglogo">
    <a href="http://575087694.github.io/"><img src="http://575087694.github.io/img/logo.svg" alt="JavaScript入门" title="JavaScript入门"/></a>
  </div>
  
  <div id="textlogo">
    <h1 class="site-name"><a href="http://575087694.github.io/" title="JavaScript入门">JavaScript入门</a></h1>
    <h2 class="blog-motto">subtitle</h2>
  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <nav class="animated">
    <ul>
      
      <li><a href="/">首页</a></li>
      
      <li><a href="/about/">关于</a></li>
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder="搜索">
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="http://575087694.github.io/post/index7/" title="8、开发工具" itemprop="url">8、开发工具</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://575087694.github.io/" title="SmallLiu">SmallLiu</a>
    
  </p>
  <p class="article-time">
    <time datetime="2014-01-24 05:04:40 &#43;0000 UTC" itemprop="datePublished">2014年01月24日</time>
  </p>
</header>

	<div class="article-content">
    
    

<p><code>console</code>对象是JavaScript的原生对象，它有点像Unix系统的标准输出<code>stdout</code>和标准错误<code>stderr</code>，可以输出各种信息用来调试程序，而且还提供了很多额外的方法，供开发者调用。它的常见用途有两个。</p>

<ul>
<li>显示网页代码运行时的错误信息。</li>
<li>提供了一个命令行接口，用来与网页代码互动。</li>
</ul>

<h2 id="浏览器实现:93028a78a5be4722529cc12afbd69c79">浏览器实现</h2>

<p><code>console</code>对象的浏览器实现，包含在浏览器自带的开发工具之中。以Chrome浏览器的“开发者工具”（Developer Tools）为例，首先使用下面三种方法的一种打开它。</p>

<ol>
<li>按F12或者<code>Control + Shift + i</code>（PC平台）/ <code>Alt + Command + i</code>（Mac平台）。</li>
<li>在菜单中选择“工具/开发者工具”。</li>
<li>在一个页面元素上，打开右键菜单，选择其中的“Inspect Element”。</li>
</ol>

<p><img src="https://developers.google.com/chrome-developer-tools/images/image03.png" alt="开发者工具" /></p>

<p>打开“开发者工具”以后，可以看到在顶端有八个面板卡可供选择，分别是：</p>

<ul>
<li><strong>Elements</strong>：用来调试网页的HTML源码和CSS代码。</li>
<li><strong>Resources</strong>：查看网页加载的各种资源文件（比如代码文件、字体文件、css文件等），以及在硬盘上创建的各种内容（比如本地缓存、Cookie、Local Storage等）。</li>
<li><strong>Network</strong>：查看网页的HTTP通信情况。</li>
<li><strong>Sources</strong>：调试JavaScript代码。</li>
<li><strong>Timeline</strong>：查看各种网页行为随时间变化的情况。</li>
<li><strong>Profiles</strong>：查看网页的性能情况，比如CPU和内存消耗。</li>
<li><strong>Audits</strong>：提供网页优化的建议。</li>
<li><strong>Console</strong>：用来运行JavaScript命令。</li>
</ul>

<p>这八个面板都有各自的用途。以下内容只针对Console面板，又称为控制台。Console面板基本上就是一个命令行窗口，你可以在提示符下，键入各种命令。</p>

<h2 id="console对象的方法:93028a78a5be4722529cc12afbd69c79">console对象的方法</h2>

<p><code>console</code>对象提供的各种方法，用来与控制台窗口互动。</p>

<h3 id="log-info-debug:93028a78a5be4722529cc12afbd69c79">log()，info()，debug()</h3>

<p><code>console.log</code>方法用于在console窗口输出信息。它可以接受多个参数，将它们的结果连接起来输出。</p>

<pre><code class="language-javascript">console.log(&quot;Hello World&quot;)
// Hello World

console.log(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)
// a b c
</code></pre>

<p><code>console.log</code>方法会自动在每次输出的结尾，添加换行符。</p>

<pre><code class="language-javascript">console.log(1);
console.log(2);
console.log(3);
// 1
// 2
// 3
</code></pre>

<p>如果第一个参数是格式字符串（使用了格式占位符），console.log方法将依次用后面的参数替换占位符，然后再进行输出。</p>

<pre><code class="language-javascript">console.log(' %s + %s = %s', 1, 1, 2)
//  1 + 1 = 2
</code></pre>

<p>上面代码中，<code>console.log</code>方法的第一个参数有三个占位符（<code>%s</code>），第二、三、四个参数会在显示时，依次替换掉这个三个占位符。<code>console.log</code>方法支持的占位符格式有以下一些，不同格式的数据必须使用对应格式的占位符。</p>

<ul>
<li>%s 字符串</li>
<li>%d 整数</li>
<li>%i 整数</li>
<li>%f 浮点数</li>
<li>%o 对象的链接</li>
<li>%c CSS格式字符串</li>
</ul>

<pre><code class="language-javascript">var number = 11 * 9;
var color = 'red';

console.log('%d %s balloons', number, color);
// 99 red balloons
</code></pre>

<p>上面代码中，第二个参数是数值，对应的占位符是<code>%d</code>，第三个参数是字符串，对应的占位符是<code>%s</code>。</p>

<p>使用<code>%c</code>占位符时，对应的参数必须是CSS语句，用来对输出内容进行CSS渲染。</p>

<pre><code class="language-javascript">console.log('%cThis text is styled!',
  'color: red; background: yellow; font-size: 24px;'
)
</code></pre>

<p>上面代码运行后，输出的内容将显示为蓝底绿字。</p>

<p><code>console.log</code>方法的两种参数格式，可以结合在一起使用。</p>

<pre><code class="language-javascript">console.log(' %s + %s ', 1, 1, '= 2')
// 1 + 1  = 2
</code></pre>

<p>如果参数是一个对象，<code>console.log</code>会显示该对象的值。</p>

<pre><code class="language-javascript">console.log({foo: 'bar'})
// Object {foo: &quot;bar&quot;}

console.log(Date)
// function Date() { [native code] }
</code></pre>

<p>上面代码输出<code>Date</code>对象的值，结果为一个构造函数。</p>

<p><code>console.info()</code>和<code>console.debug()</code>都是<code>console.log</code>方法的别名，用法完全一样。只不过<code>console.info</code>方法会在输出信息的前面，加上一个蓝色图标。</p>

<p>console对象的所有方法，都可以被覆盖。因此，可以按照自己的需要，定义console.log方法。</p>

<pre><code class="language-javascript">['log', 'info', 'warn', 'error'].forEach(function(method) {
  console[method] = console[method].bind(
    console,
    new Date().toISOString()
  );
});

console.log(&quot;出错了！&quot;);
// 2014-05-18T09:00.000Z 出错了！
</code></pre>

<p>上面代码表示，使用自定义的<code>console.log</code>方法，可以在显示结果添加当前时间。</p>

<h3 id="warn-error:93028a78a5be4722529cc12afbd69c79">warn()，error()</h3>

<p>warn方法和error方法也是输出信息，它们与log方法的不同之处在于，warn方法输出信息时，在最前面加一个黄色三角，表示警告；error方法输出信息时，在最前面加一个红色的叉，表示出错，同时会显示错误发生的堆栈。其他用法都一样。</p>

<pre><code class="language-javascript">console.error(&quot;Error: %s (%i)&quot;, &quot;Server is not responding&quot;,500)
// Error: Server is not responding (500)

console.warn('Warning! Too few nodes (%d)', document.childNodes.length)
// Warning! Too few nodes (1)
</code></pre>

<p>本质上，log方法是写入标准输出（stdout），warn方法和error方法是写入标准错误（stderr）。</p>

<h3 id="table:93028a78a5be4722529cc12afbd69c79">table()</h3>

<p>对于某些复合类型的数据，console.table方法可以将其转为表格显示。</p>

<pre><code class="language-javascript">var languages = [
  { name: &quot;JavaScript&quot;, fileExtension: &quot;.js&quot; },
  { name: &quot;TypeScript&quot;, fileExtension: &quot;.ts&quot; },
  { name: &quot;CoffeeScript&quot;, fileExtension: &quot;.coffee&quot; }
];

console.table(languages);
</code></pre>

<p>上面代码的language，转为表格显示如下。</p>

<table>
<thead>
<tr>
<th>(index)</th>
<th>name</th>
<th>fileExtension</th>
</tr>
</thead>

<tbody>
<tr>
<td>0</td>
<td>&ldquo;JavaScript&rdquo;</td>
<td>&rdquo;.js&rdquo;</td>
</tr>

<tr>
<td>1</td>
<td>&ldquo;TypeScript&rdquo;</td>
<td>&rdquo;.ts&rdquo;</td>
</tr>

<tr>
<td>2</td>
<td>&ldquo;CoffeeScript&rdquo;</td>
<td>&rdquo;.coffee&rdquo;</td>
</tr>
</tbody>
</table>

<p>复合型数据转为表格显示的条件是，必须拥有主键。对于上面的数组来说，主键就是数字键。对于对象来说，主键就是它的最外层键。</p>

<pre><code class="language-javascript">var languages = {
  csharp: { name: &quot;C#&quot;, paradigm: &quot;object-oriented&quot; },
  fsharp: { name: &quot;F#&quot;, paradigm: &quot;functional&quot; }
};

console.table(languages);
</code></pre>

<p>上面代码的language，转为表格显示如下。</p>

<table>
<thead>
<tr>
<th>(index)</th>
<th>name</th>
<th>paradigm</th>
</tr>
</thead>

<tbody>
<tr>
<td>csharp</td>
<td>&ldquo;C#&rdquo;</td>
<td>&ldquo;object-oriented&rdquo;</td>
</tr>

<tr>
<td>fsharp</td>
<td>&ldquo;F#&rdquo;</td>
<td>&ldquo;functional&rdquo;</td>
</tr>
</tbody>
</table>

<h3 id="count:93028a78a5be4722529cc12afbd69c79">count()</h3>

<p>count方法用于计数，输出它被调用了多少次。</p>

<pre><code class="language-javascript">function greet(user) {
  console.count();
  return &quot;hi &quot; + user;
}

greet('bob')
//  : 1
// &quot;hi bob&quot;

greet('alice')
//  : 2
// &quot;hi alice&quot;

greet('bob')
//  : 3
// &quot;hi bob&quot;
</code></pre>

<p>上面代码每次调用greet函数，内部的console.count方法就输出执行次数。</p>

<p>该方法可以接受一个字符串作为参数，作为标签，对执行次数进行分类。</p>

<pre><code class="language-javascript">
function greet(user) {
  console.count(user);
  return &quot;hi &quot; + user;
}

greet('bob')
// bob: 1
// &quot;hi bob&quot;

greet('alice')
// alice: 1
// &quot;hi alice&quot;

greet('bob')
// bob: 2
// &quot;hi bob&quot;

</code></pre>

<p>上面代码根据参数的不同，显示bob执行了两次，alice执行了一次。</p>

<h3 id="dir:93028a78a5be4722529cc12afbd69c79">dir()</h3>

<p>dir方法用来对一个对象进行检查（inspect），并以易于阅读和打印的格式显示。</p>

<pre><code class="language-javascript">
console.log({f1: 'foo', f2: 'bar'})
// Object {f1: &quot;foo&quot;, f2: &quot;bar&quot;}

console.dir({f1: 'foo', f2: 'bar'})
// Object
//   f1: &quot;foo&quot;
//   f2: &quot;bar&quot;
//   __proto__: Object

</code></pre>

<p>上面代码显示dir方法的输出结果，比log方法更易读，信息也更丰富。</p>

<p>该方法对于输出DOM对象非常有用，因为会显示DOM对象的所有属性。</p>

<pre><code class="language-javascript">
console.dir(document.body)

</code></pre>

<h3 id="assert:93028a78a5be4722529cc12afbd69c79">assert()</h3>

<p>assert方法接受两个参数，第一个参数是表达式，第二个参数是字符串。只有当第一个参数为false，才会输出第二个参数，否则不会有任何结果。</p>

<p>{% highlight javascript %}</p>

<p>// 实例
console.assert(true === false, &ldquo;判断条件不成立&rdquo;)
// Assertion failed: 判断条件不成立</p>

<p>{% endhighlight %}</p>

<p>下面是另一个例子，判断子节点的个数是否大于等于500。</p>

<p>{% highlight javascript %}</p>

<p>console.assert(list.childNodes.length &lt; 500, &ldquo;节点个数大于等于500&rdquo;)</p>

<p>{% endhighlight %}</p>

<h3 id="time-timeend:93028a78a5be4722529cc12afbd69c79">time()，timeEnd()</h3>

<p>这两个方法用于计时，可以算出一个操作所花费的准确时间。</p>

<pre><code class="language-javascript">console.time(&quot;Array initialize&quot;);

var array= new Array(1000000);
for (var i = array.length - 1; i &gt;= 0; i--) {
    array[i] = new Object();
};

console.timeEnd(&quot;Array initialize&quot;);

// Array initialize: 1914.481ms
</code></pre>

<p>time方法表示计时开始，timeEnd方法表示计时结束。它们的参数是计时器的名称。调用timeEnd方法之后，console窗口会显示“计时器名称: 所耗费的时间”。</p>

<h3 id="profile-profileend:93028a78a5be4722529cc12afbd69c79">profile()，profileEnd()</h3>

<p>console.profile方法用来新建一个性能测试器（profile），它的参数是性能测试器的名字。</p>

<pre><code class="language-javascript">
console.profile('p')
// Profile 'p' started.

</code></pre>

<p>console.profileEnd方法用来结束正在运行的性能测试器。</p>

<pre><code class="language-javascript">
console.profileEnd()
// Profile 'p' finished.

</code></pre>

<p>打开浏览器的开发者工具，在profile面板中，可以看到这个性能调试器的运行结果。</p>

<h3 id="group-groupend-groupcollapsed:93028a78a5be4722529cc12afbd69c79">group()，groupend()，groupCollapsed()</h3>

<p>console.group和console.groupend这两个方法用于将显示的信息分组。它只在输出大量信息时有用，分在一组的信息，可以用鼠标折叠/展开。</p>

<pre><code class="language-javascript">
console.group('Group One');
console.group('Group Two');

// some code

console.groupEnd(); // Group Two 结束
console.groupEnd(); // Group One 结束

</code></pre>

<p>console.groupCollapsed方法与console.group方法很类似，唯一的区别是该组的内容，在第一次显示时是收起的（collapsed），而不是展开的。</p>

<pre><code class="language-javascript">
console.groupCollapsed('Fetching Data');

console.log('Request Sent');
console.error('Error: Server not responding (500)');

console.groupEnd();

</code></pre>

<p>上面代码只显示一行”Fetching Data“，点击后才会展开，显示其中包含的两行。</p>

<h3 id="trace-clear:93028a78a5be4722529cc12afbd69c79">trace()，clear()</h3>

<p><code>console.trace</code>方法显示当前执行的代码在堆栈中的调用路径。</p>

<pre><code class="language-javascript">console.trace()
// console.trace()
//   (anonymous function)
//   InjectedScript._evaluateOn
//   InjectedScript._evaluateAndWrap
//   InjectedScript.evaluate
</code></pre>

<p>console.clear方法用于清除当前控制台的所有输出，将光标回置到第一行。</p>

<h2 id="命令行api:93028a78a5be4722529cc12afbd69c79">命令行API</h2>

<p>在控制台中，除了使用console对象，还可以使用一些控制台自带的命令行方法。</p>

<p>（1）$_</p>

<p>$_属性返回上一个表达式的值。</p>

<p>{% highlight javascript %}</p>

<p>2+2
// 4
$_
// 4</p>

<p>{% endhighlight %}</p>

<p>（2）$0 - $4</p>

<p>控制台保存了最近5个在Elements面板选中的DOM元素，$0代表倒数第一个，$1代表倒数第二个，以此类推直到$4。</p>

<p>（3）$(selector)</p>

<p>$(selector)返回一个数组，包括特定的CSS选择器匹配的所有DOM元素。该方法实际上是document.querySelectorAll方法的别名。</p>

<pre><code class="language-javascript">var images = $('img');
for (each in images) {
    console.log(images[each].src);
}
</code></pre>

<p>上面代码打印出网页中所有img元素的src属性。</p>

<p>（4）$$(selector)</p>

<p>$$(selector)返回一个选中的DOM对象，等同于document.querySelectorAll。</p>

<p>（5）$x(path)</p>

<p>$x(path)方法返回一个数组，包含匹配特定XPath表达式的所有DOM元素。</p>

<pre><code class="language-javascript">$x(&quot;//p[a]&quot;)
</code></pre>

<p>上面代码返回所有包含a元素的p元素。</p>

<p>（6）inspect(object)</p>

<p>inspect(object)方法打开相关面板，并选中相应的元素：DOM元素在Elements面板中显示，JavaScript对象在Profiles中显示。</p>

<p>（7）getEventListeners(object)</p>

<p>getEventListeners(object)方法返回一个对象，该对象的成员为登记了回调函数的各种事件（比如click或keydown），每个事件对应一个数组，数组的成员为该事件的回调函数。</p>

<p>（8）keys(object)，values(object)</p>

<p>keys(object)方法返回一个数组，包含特定对象的所有键名。</p>

<p>values(object)方法返回一个数组，包含特定对象的所有键值。</p>

<pre><code class="language-javascript">var o = {'p1': 'a', 'p2': 'b'};

keys(o)
// [&quot;p1&quot;, &quot;p2&quot;]
values(o)
// [&quot;a&quot;, &quot;b&quot;]
</code></pre>

<p>（9）<code>monitorEvents(object[, events]) ，unmonitorEvents(object[, events])</code></p>

<p><code>monitorEvents(object[, events])</code>方法监听特定对象上发生的特定事件。当这种情况发生时，会返回一个Event对象，包含该事件的相关信息。unmonitorEvents方法用于停止监听。</p>

<pre><code class="language-javascript">monitorEvents(window, &quot;resize&quot;);

monitorEvents(window, [&quot;resize&quot;, &quot;scroll&quot;])
</code></pre>

<p>上面代码分别表示单个事件和多个事件的监听方法。</p>

<p>{% highlight javascript %}</p>

<p>monitorEvents($0, &ldquo;mouse&rdquo;);
unmonitorEvents($0, &ldquo;mousemove&rdquo;);</p>

<p>{% endhighlight %}</p>

<p>上面代码表示如何停止监听。</p>

<p>monitorEvents允许监听同一大类的事件。所有事件可以分成四个大类。</p>

<ul>
<li>mouse：&rdquo;mousedown&rdquo;, &ldquo;mouseup&rdquo;, &ldquo;click&rdquo;, &ldquo;dblclick&rdquo;, &ldquo;mousemove&rdquo;, &ldquo;mouseover&rdquo;, &ldquo;mouseout&rdquo;, &ldquo;mousewheel&rdquo;</li>
<li>key：&rdquo;keydown&rdquo;, &ldquo;keyup&rdquo;, &ldquo;keypress&rdquo;, &ldquo;textInput&rdquo;</li>
<li>touch：&rdquo;touchstart&rdquo;, &ldquo;touchmove&rdquo;, &ldquo;touchend&rdquo;, &ldquo;touchcancel&rdquo;</li>
<li>control：&rdquo;resize&rdquo;, &ldquo;scroll&rdquo;, &ldquo;zoom&rdquo;, &ldquo;focus&rdquo;, &ldquo;blur&rdquo;, &ldquo;select&rdquo;, &ldquo;change&rdquo;, &ldquo;submit&rdquo;, &ldquo;reset&rdquo;</li>
</ul>

<p>{% highlight javascript %}</p>

<p>monitorEvents($(&ldquo;#msg&rdquo;), &ldquo;key&rdquo;);</p>

<p>{% endhighlight %}</p>

<p>上面代码表示监听所有key大类的事件。</p>

<p>（10）<code>profile([name])</code>，profileEnd()</p>

<p>profile方法用于启动一个特定名称的CPU性能测试，profileEnd方法用于结束该性能测试。</p>

<p>{% highlight javascript %}</p>

<p>profile(&ldquo;My profile&rdquo;)</p>

<p>profileEnd(&ldquo;My profile&rdquo;)</p>

<p>{% endhighlight %}</p>

<p>（11）其他方法</p>

<p>命令行API还提供以下方法。</p>

<ul>
<li>clear()方法清除控制台的历史。</li>
<li>copy(object)方法复制特定DOM元素到剪贴板。</li>
<li>dir(object)方法显示特定对象的所有属性，是console.dir方法的别名。</li>
<li>dirxml(object)方法显示特定对象的XML形式，是console.dirxml方法的别名。</li>
</ul>

<h2 id="debugger语句:93028a78a5be4722529cc12afbd69c79">debugger语句</h2>

<p><code>debugger</code>语句必须与除错工具配合使用，如果没有除错工具，debugger语句不会产生任何结果。</p>

<p>在Chrome浏览器中，当代码运行到debugger指定的行时，就会暂停运行，自动打开控制台界面。它的作用类似于设置断点。</p>

<pre><code class="language-javascript">for(var i = 0;i &lt; 5;i++){
  console.log(i);
  if (i === 2) debugger;
}
</code></pre>

<p>上面代码打印出0，1，2以后，就会暂停，自动打开console窗口，等待进一步处理。</p>

<h2 id="移动端开发:93028a78a5be4722529cc12afbd69c79">移动端开发</h2>

<p>（本节暂存此处）</p>

<h3 id="模拟手机视口-viewport:93028a78a5be4722529cc12afbd69c79">模拟手机视口（viewport）</h3>

<p>chrome浏览器的开发者工具，提供一个选项，可以模拟手机屏幕的显示效果。</p>

<p>打开“设置”的Overrides面板，选择相应的User Agent和Device Metrics选项。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_3.png" alt="选择User Agent" /></p>

<p>User Agent可以使得当前浏览器发出手机浏览器的Agent字符串，Device Metrics则使得当前浏览器的视口变为手机的视口大小。这两个选项可以独立选择，不一定同时选中。</p>

<h3 id="模拟touch事件:93028a78a5be4722529cc12afbd69c79">模拟touch事件</h3>

<p>我们可以在PC端模拟JavaScript的touch事件。</p>

<p>首先，打开chrome浏览器的开发者工具，选择“设置”中的Overrides面板，勾选“Enable touch events”选项。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_0.png" alt="Enable touch events的图片" /></p>

<p>然后，鼠标就会触发touchstart、touchmove和touchend事件。（此时，鼠标本身的事件依然有效。）</p>

<p>至于多点触摸，必须要有支持这个功能的设备才能模拟，具体可以参考<a href="http://www.html5rocks.com/en/mobile/touch/">Multi-touch web development</a>。</p>

<h3 id="模拟经纬度:93028a78a5be4722529cc12afbd69c79">模拟经纬度</h3>

<p>chrome浏览器的开发者工具，还可以模拟当前的经纬度数据。打开“设置”的Overrides面板，选中Override Geolocation选项，并填入相应经度和纬度数据。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_11.png" alt="模拟经纬度" /></p>

<h3 id="远程除错:93028a78a5be4722529cc12afbd69c79">远程除错</h3>

<p>(1) Chrome for Android</p>

<p>Android设备上的Chrome浏览器支持USB除错。PC端需要安装Android SDK和Chrome浏览器，然后用usb线将手机和PC连起来，可参考<a href="https://developers.google.com/chrome-developer-tools/docs/remote-debugging">官方文档</a>。</p>

<p>(2) Opera</p>

<p>Opera浏览器的除错环境Dragonfly支持远程除错（<a href="http://www.codegeek.net/blog/2012/mobile-debugging-with-opera-dragonfly/">教程</a>）。</p>

<p>(3) Firefox for Android</p>

<p>参考<a href="https://hacks.mozilla.org/2012/08/remote-debugging-on-firefox-for-android/">官方文档</a>。</p>

<p>(4) Safari on iOS6</p>

<p>你可以使用Mac桌面电脑的Safari 6浏览器，进行远程除错（<a href="http://www.mobilexweb.com/blog/iphone-5-ios-6-html5-developers">教程</a>）。</p>

<h2 id="google-closure:93028a78a5be4722529cc12afbd69c79">Google Closure</h2>

<p>（本节暂存此处）</p>

<p>Google Closure是Google提供的一个JavaScript源码处理工具，主要用于压缩和合并多个JavaScript脚本文件。</p>

<p>Google Closure使用Java语言开发，使用之前必须先安装Java。然后，前往<a href="https://developers.google.com/closure/">官方网站</a>进行下载，这里我们主要使用其中的编译器（compiler）。</p>

<p>首先，查看使用帮助。</p>

<p>{% highlight bash %}</p>

<p>java -jar /path/to/closure/compiler.jar &ndash;help</p>

<p>{% endhighlight %}</p>

<p>直接在脚本命令后面跟上要合并的脚本，就能完成合并。</p>

<p>{% highlight bash %}</p>

<p>java -jar /path/to/closure/compiler.jar *.js</p>

<p>{% endhighlight %}</p>

<p>使用&ndash;js参数，可以确保按照参数的先后次序合并文件。</p>

<p>{% highlight bash %}</p>

<p>java -jar /path/to/closure/compiler.jar &ndash;js script1.js &ndash;js script2.js &ndash;js script3.js</p>

<p>{% endhighlight %}</p>

<p>但是，这样的运行结果是将合并后的文件全部输出到屏幕（标准输出），因此需要使用&ndash;js_output_file参数，指定合并后的文件名。</p>

<p>{% highlight bash %}</p>

<p>java -jar /path/to/closure/compiler.jar &ndash;js script1.js &ndash;js script2.js &ndash;js script3.js &ndash;js_output_file scripts-compiled.js</p>

<p>{% endhighlight %}</p>

<h2 id="javascript-性能测试:93028a78a5be4722529cc12afbd69c79">Javascript 性能测试</h2>

<p>(本节暂存此处)</p>

<h3 id="第一种做法:93028a78a5be4722529cc12afbd69c79">第一种做法</h3>

<p>最常见的测试性能的做法，就是同一操作重复n次，然后计算每次操作的平均时间。</p>

<p>{% highlight javascript %}</p>

<p>var totalTime,
    start = new Date,
    iterations = 6;</p>

<p>while (iterations&ndash;) {
  // Code snippet goes here
}</p>

<p>// totalTime → the number of milliseconds it took to execute
// the code snippet 6 times
totalTime = new Date - start;</p>

<p>{% endhighlight %}</p>

<p>上面代码的问题在于，由于计算机的性能不断提高，如果只重复6次，很可能得到0毫秒的结果，即不到1毫秒，Javascript引擎无法测量。</p>

<h3 id="第二种做法:93028a78a5be4722529cc12afbd69c79">第二种做法</h3>

<p>另一种思路是，测试单位时间内完成了多少次操作。</p>

<p>{% highlight javascript %}</p>

<p>var hz,
    period,
    startTime = new Date,
    runs = 0;</p>

<p>do {
  // Code snippet goes here
  runs++;
  totalTime = new Date - startTime;
} while (totalTime &lt; 1000);</p>

<p>// convert ms to seconds
totalTime /= 1000;</p>

<p>// period → how long per operation
period = totalTime / runs;</p>

<p>// hz → the number of operations per second
hz = 1 / period;</p>

<p>// can be shortened to
// hz = (runs * 1000) / totalTime;</p>

<p>{% endhighlight %}</p>

<p>这种做法的注意之处在于，测试结构受外界环境影响很大，为了得到正确结构，必须重复多次。</p>

<h2 id="参考链接:93028a78a5be4722529cc12afbd69c79">参考链接</h2>

<ul>
<li>Chrome Developer Tools, <a href="https://developers.google.com/chrome-developer-tools/docs/console">Using the Console</a></li>
<li>Matt West, <a href="http://blog.teamtreehouse.com/mastering-developer-tools-console">Mastering The Developer Tools Console</a></li>
<li>Firebug Wiki, <a href="https://getfirebug.com/wiki/index.php/Console_API">Console API</a></li>
<li>Axel Rauschmayer, <a href="http://www.2ality.com/2013/10/console-api.html">The JavaScript console API</a></li>
<li>Marius Schulz, <a href="http://blog.mariusschulz.com/2013/11/13/advanced-javascript-debugging-with-consoletable">Advanced JavaScript Debugging with console.table()</a></li>
<li>Google Developer, <a href="https://developers.google.com/chrome-developer-tools/docs/commandline-api">Command Line API Reference</a></li>
</ul>

	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="/tags/development">Development</a>
  
  <a href="/tags/javascript">JavaScript</a>
  
</div>



<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="/categories/development">Development</a>
  
  <a class="article-category-link" href="/categories/javascript">JavaScript</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="http://575087694.github.io/post/index7/" data-title="8、开发工具" data-tsina="1816308191" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  


<section class="comment">
<div id="disqus_thread"></div>
</section>
<script>


var disqus_config = function () {
this.page.url = "http://575087694.github.io/post/index7/";
this.page.identifier = "http://575087694.github.io/post/index7/";
};
(function() { 
var d = document, s = d.createElement('script');

s.src = '//SmallLiu.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


</div>

    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>
<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
  

<div class="categorieslist">
  <p class="asidetitle">分类</p>
  <ul>
    
    <li><a href="http://575087694.github.io/categories/development" title="development">development<sup>11</sup></a></li>
    
    <li><a href="http://575087694.github.io/categories/javascript" title="javascript">javascript<sup>11</sup></a></li>
    
  </ul>
</div>



  

<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
      
			<li><a href="http://575087694.github.io/tags/development" title="development">development<sup>11</sup></a></li>
      
			<li><a href="http://575087694.github.io/tags/javascript" title="javascript">javascript<sup>11</sup></a></li>
      
		</ul>
</div>



  
  <div class="archiveslist">
    <p class="asidetitle">归档</p>
    <ul class="archive-list">
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="http://575087694.github.io/post/#2014-01">2014年01月</a><span class="archive-list-count">11</span>
      </li>
      
    </ul>

  </div>


  

<div class="tagcloudlist">
  <p class="asidetitle">标签云</p>
  <div class="tagcloudlist clearfix">
    
    <a href="http://575087694.github.io/tags/development" style="font-size: 12px;">development</a>
    
    <a href="http://575087694.github.io/tags/javascript" style="font-size: 12px;">javascript</a>
    
  </div>
</div>



  

</aside>
</div>

  </div>
  <footer><div id="footer" >
  
  <div class="line">
    <span></span>
    <div style='background:no-repeat url("http://575087694.github.io/img/author.jpg") left top;-webkit-background-size:6.875em 6.875em;-moz-background-size:6.875em 6.875em;background-size:6.875em 6.875em;' class="author" ></div>
  </div>
  
  
  <section class="info">
    <p>Introduce1 <br/> Introduce2</p>
  </section>
  
  <div class="social-font clearfix">
    
    <a href="http://weibo.com/SmallLiu" target="_blank" title="weibo"></a>
    
    
    <a href="https://twitter.com/SmallLiu" target="_blank" title="twitter"></a>
    
    
    <a href="https://github.com/SmallLiu" target="_blank" title="github"></a>
    
    
    <a href="https://www.facebook.com/SmallLiu" target="_blank" title="facebook"></a>
    
    
    <a href="https://www.linkedin.com/SmallLiu" target="_blank" title="linkedin"></a>
    
  </div>
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a> © 2016
    
    <a href="http://575087694.github.io/" target="_blank" title="SmallLiu">SmallLiu</a>
    
  </p>
</div>
</footer>
  <script src="http://575087694.github.io/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site:http:\/\/575087694.github.io\/} ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<link rel="stylesheet" href="http://575087694.github.io/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="http://575087694.github.io/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-10147768-2', 'auto');
  ga('send', 'pageview');
  $('#messagesbsb').remove();
</script>



</body>
</html>
